<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>
<body>
   
   
    <h1>JS fetch</h1>
    
    
    <h2>16) https://northwind.vercel.app/api/categories den dataları çekip console a yazdır</h2>
    <!-- <script>
        let url = "https://northwind.vercel.app/api/categories";
        $.getJSON(url,function (data) {
            console.log(data);
        });
    </script> -->

   

    <h2>17) https://northwind.vercel.app/api/categories adresinde kaç data olduğunu çekip console a yazdır</h2>
    <!-- <script>
        let url = "https://northwind.vercel.app/api/categories";
        $.getJSON(url,function (data) {
           console.log(data.length); 
        })
    </script> -->
    
    <h2>18) https://northwind.vercel.app/api/customers adresindeki dataları çekip console a yazdır</h2>
    <!-- <script>
        let url = "https://northwind.vercel.app/api/customers ";
        $.getJSON(url, function (data){
            console.log(data);
        })
    </script> -->

    <h2>18) https://northwind.vercel.app/api/products ürünlerin unitPrice toplamını console a yazdır. ( önce çektiğimiz array da herhangi bir döngüyle döneceğiz. Sonra scope dışında tanımladığımız bir toplam değerine bu değerleri ekleyip console da yazdıracağız)</h2>
    <!-- <script>

        let url = "https://northwind.vercel.app/api/products";
        $.getJSON(url, function (data) {
            let toplam = 0;
            data.map(item => {
            toplam += item.unitPrice;
            })
            console.log(toplam);
        })
    </script> -->

    <h2>19) **  https://northwind.vercel.app/api/orders country değeri USA olan siparişleri console a yazdır</h2>

        <!-- <script>
            let url = "https://northwind.vercel.app/api/orders";
            $.getJSON(url, function (data) {
                
                
                
                data.map(item => {
                if (item.shipAddress.country == "USA") {
                console.log(item);
                }

                })
                
            })
        </script> -->

        <h2>20) ***** https://northwind.vercel.app/api/orders her bir siparişin TOPLAM tutarını console a yazdır</h2>
        <!-- <script>
            let url = "https://northwind.vercel.app/api/orders";
            $.getJSON(url, function (data) {
                data.forEach(element => {
                    let price = (element.details[0].unitPrice*element.details[0].quantity);

                    
                    let discountedPrice = price - price*(element.details[0].discount);

                    
                    console.log(discountedPrice);
                });               
            });
        </script> -->
        
        <h2>21) Ekrana 3 input ve bir buton koy. Butona tıkladığında https://northwind.vercel.app/api/suppliers adresine bir data POST etsin. ( fetch POST işlemi )</h2>

        <div>Company Name:<input id="demo1" type="text"></div>
        <div>Contact Name:<input id="demo2" type="text"></div>
        <div>Contact Title:<input id="demo3" type="text"></div>
        <button id="target">POST YAP</button>
        <script>
            let url = "https://northwind.vercel.app/api/suppliers";

            $("#target").click(function () {
                let companyName = String( $("#demo1").val());
                let contactName = String( $("#demo2").val());
                let contactTitle = String($("#demo3").val());

                let newSupplier = {
                    companyName : companyName,
                    contactName : contactName,
                    contactTitle : contactTitle
                };

                let requestOptions = {
                    headers : {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                    },
                    method : "POST",
                    body : JSON.stringify(newSupplier)
                }
                
                fetch(url,requestOptions).then(res => res.json())
                .then(data => {
                    console.log(data);
                });          

            });
        </script>

    
</body>
</html>